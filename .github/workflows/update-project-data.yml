name: update project data

on:
  workflow_dispatch:

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v4

    - uses: actions/setup-node@v4
      with:
        node-version: 22

    - name: get excel sheets
      run: sh SupportTools/get-excel-sheets.sh
    
    - name: update map metadata
      run: node SupportTools/update_map_metadata.js

    - name: update hunt data
      run: node SupportTools/extract_hunt_data.js
      
    - name: commit results
      run: |
        git add .
        git commit -m "[auto] update hunt data"
        git push origin
    
    - name: done
      run: echo "data updates completed :3"
